<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selamat Hari Lahir, Sayangku! 🎉</title>
    <!-- Google Fonts: Inter for better typography -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="">
    
    <style>
        /* General Body Styling */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            /* Latar belakang gradien pastel lembut: Pink Pudar ke Biru Muda Sangat Lembut */
            background: linear-gradient(135deg, #FADADD 0%, #BFE7FF 100%); 
            color: #4A4A4A; /* Warna teks gelap lembut untuk kebolehbacaan */
            overflow-x: hidden; /* Elakkan scrollbar mendatar */
            line-height: 1.6;
        }

        /* Header Section */
        header {
            /* Gradien pastel yang ceria dan menarik: Biru Muda ke Pink Lembut */
            background: linear-gradient(to right, #ADD8E6, #FFB6C1); 
            color: #FFF8F0; /* Warna teks lembut untuk header h1 */
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2); /* Bayang yang lebih ketara */
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            animation: slideDown 0.8s ease-out forwards;
            position: relative; 
            z-index: 10; 
        }

        header h1 {
            font-size: 3.5em;
            margin-bottom: 0; 
            font-weight: 800;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3); /* Bayang teks lebih ketara untuk 'pop' lembut */
            animation: fadeIn 1s ease-out forwards;
            animation-delay: 0.2s;
            color: #FFF8F0; /* Warna teks lembut dan cerah */
        }

        /* Main Content Styling */
        main {
            padding: 40px 20px;
            max-width: 900px;
            margin: 30px auto;
            background-color: rgba(255, 255, 255, 0.9); /* Latar belakang putih lembut, sedikit lutsinar */
            border-radius: 20px; 
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); 
            animation: fadeInUp 1s ease-out forwards;
            animation-delay: 0.6s;
        }

        /* Hero Section (Image & Message) */
        .hero-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 1px solid #D1C4E9; /* Garisan pemisah pastel lembut */
        }

        .couple-image {
            width: 100%;
            max-width: 400px;
            height: auto;
            border-radius: 50%; 
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15); 
            object-fit: cover;
            margin-bottom: 30px;
            animation: zoomIn 1s ease-out forwards;
            animation-delay: 0.8s;
        }

        .message-card {
            background-color: #E0FFE5; /* Latar belakang mint hijau pastel untuk mesej */
            padding: 30px;
            border-radius: 15px; 
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            line-height: 1.8;
            text-align: center;
            color: #2E8B57; /* Hijau laut gelap untuk teks mesej */
            animation: fadeIn 1s ease-out forwards;
            animation-delay: 1s;
        }

        /* Gallery Section */
        .gallery-section {
            margin-bottom: 50px;
            text-align: center;
            color: #6A5ACD; /* Ungu sederhana yang lembut untuk tajuk */
        }

        .photo-grid {
            display: block; 
        }

        /* Wrapper baru untuk setiap imej bagi mengawal nisbah aspek dan animasi */
        .image-container { 
            position: relative;
            width: 100%; 
            padding-bottom: 56.25%; 
            margin-bottom: 20px; 
            overflow: hidden; 
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); 

            opacity: 0; 
            transform: translateY(20px); 
            transition: opacity 0.6s ease-out, transform 0.6s ease-out; 
        }

        .image-container.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .image-container img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; 
        }

        .image-container:hover {
            transform: scale(1.03); 
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15); 
        }

        /* New styles for the gift game section */
        .gift-game-section {
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid #D1C4E9;
            text-align: center;
        }

        .gift-game-section h2 {
            color: #6A5ACD; /* Ungu sederhana yang lembut untuk tajuk */
            font-size: 2.2em;
            margin-bottom: 30px;
            border-bottom: 2px solid #D1C4E9; /* Garisan pemisah yang sepadan */
            display: inline-block;
            padding-bottom: 5px;
            animation: fadeIn 1s ease-out forwards;
            animation-delay: 0.2s; 
        }

        .gift-game-notes {
            font-size: 0.95em;
            color: #708090; /* Kelabu slate lembut untuk nota */
            margin-top: -20px; 
            margin-bottom: 30px;
            font-style: italic;
            animation: fadeIn 1s ease-out forwards;
            animation-delay: 0.3s;
        }

        .gift-boxes-container {
            display: flex;
            flex-wrap: wrap; 
            justify-content: center;
            gap: 25px; 
            margin-top: 30px;
        }

        .gift-box {
            background-color: #F0F8FF; /* Alice Blue (biru sangat lembut) untuk kotak hadiah */
            border: 2px solid #A3D9FF; /* Border biru lembut */
            border-radius: 15px; 
            padding: 30px 20px;
            width: 180px; 
            height: 180px; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 1.1em;
            font-weight: 600;
            color: #4682B4; /* Steel Blue untuk teks */
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
            animation: zoomIn 0.8s ease-out forwards; 
            opacity: 0; 
            transform: scale(0.8); 
        }

        .gift-box:nth-child(1) { animation-delay: 0.4s; }
        .gift-box:nth-child(2) { animation-delay: 0.6s; }
        .gift-box:nth-child(3) { animation-delay: 0.8s; }


        .gift-box:hover:not(.claimed) { 
            background-color: #A3D9FF; /* Biru terang lembut pada hover */
            color: white; 
            transform: scale(1.08) rotate(2deg); 
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .gift-box.claimed { 
            cursor: not-allowed;
            opacity: 0.7;
            background-color: #E0E0E0; /* Kelabu lembut apabila ditebus */
            color: #A0A0A0;
            transform: none;
            box-shadow: none;
            border-color: #C0C0C0;
        }

        .gift-box i { 
            font-size: 2.5em;
            margin-bottom: 15px;
            color: #4682B4; /* Steel Blue untuk ikon */
        }
        .gift-box:hover:not(.claimed) i {
            color: white;
        }
        .gift-box.claimed i {
            color: #808080;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 30px 20px;
            background-color: #C3D9EC; /* Biru kelabu pastel untuk footer */
            color: #4682B4; /* Steel Blue untuk teks */
            border-top-left-radius: 30px;
            border-top-right-radius: 30px;
            margin-top: 50px;
            box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.15);
            animation: slideUp 0.8s ease-out forwards;
            animation-delay: 2.2s;
            display: flex; 
            justify-content: center;
            align-items: center;
            flex-wrap: wrap; 
            gap: 5px; 
        }

        /* Styling for the love symbol SVG */
        .love-symbol {
            width: 1em; 
            height: 1em;
            fill: #FF69B4; /* Hot Pink untuk simbol hati */
            vertical-align: middle; 
            margin: 0 4px; 
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes zoomIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes slideUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Custom Message Box CSS (digunakan oleh showMessageBox()) */
        .message-box-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3); /* Overlay yang lebih lembut */
            display: none; 
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0; 
            transition: opacity 0.3s ease; 
        }

        .message-box-overlay.show {
            display: flex; 
            opacity: 1;
        }

        .message-box {
            background: #F8F8F8; /* Off-white untuk kotak mesej */
            padding: 30px;
            border-radius: 15px; 
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); 
            text-align: center;
            max-width: 350px;
            width: 90%;
            transform: translateY(-20px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .message-box-overlay.show .message-box {
            transform: translateY(0);
            opacity: 1;
        }

        .message-box h3 {
            margin-top: 0;
            font-size: 1.5em;
            color: #4A4A4A; /* Warna teks gelap lembut */
        }

        /* Style for the "Hadiah Birthday Syg:" text */
        .message-box .prize-title {
            font-size: 1.1em; 
            font-weight: 600;
            color: #000000; 
            margin-top: 10px; 
            margin-bottom: 5px; 
        }

        /* Style for prize message (e.g., GoldBar 0.1g) */
        .message-box .prize-value { 
            font-size: 1.2em;
            font-weight: 700; 
            color: #FF69B4; /* Hot Pink untuk nilai hadiah */
            margin-bottom: 5px; 
        }

        .message-box .prize-note { 
            font-size: 0.85em;
            color: #795548; 
            font-style: italic;
            margin-top: 5px;
            margin-bottom: 20px;
        }


        .message-box button {
            background-color: #6A5ACD; /* Ungu sederhana lembut untuk butang OK */
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .message-box button:hover {
            background-color: #483D8B; /* Ungu gelap pada hover */
        }

        /* Warna untuk jenis mesej */
        .message-box.error h3 { color: #FF6347; } /* Tomato untuk ralat */
        .message-box.error button { background-color: #FF6347; }
        .message-box.error button:hover { background-color: #E0523C; }

        .message-box.success h3 { color: #2E8B57; } /* Sea Green untuk kejayaan */
        .message-box.success button { background-color: #2E8B57; }
        .message-box.success button:hover { background-color: #257C48; }


        /* Media Queries for Responsiveness */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2.8em;
            }

            main {
                padding: 30px 15px;
                margin: 20px auto;
            }

            .hero-section {
                flex-direction: column;
                text-align: center;
            }

            .couple-image {
                max-width: 300px;
            }

            .message-card {
                padding: 20px;
                font-size: 1em;
            }

            .gallery-section h2,
            .gift-game-section h2 { 
                font-size: 1.8em;
            }

            .photo-grid {
                display: block; 
            }

            .image-container {
                height: auto; 
            }

            .gift-box { 
                width: 150px;
                height: 150px;
                padding: 25px 15px;
                font-size: 1em;
            }
            .gift-box i {
                font-size: 2em;
                margin-bottom: 10px;
            }
        }

        @media (max-width: 480px) {
            header {
                padding: 30px 10px;
            }

            header h1 {
                font-size: 2.2em;
            }

            main {
                padding: 20px 10px;
                margin: 15px auto;
            }

            .couple-image {
                max-width: 250px;
            }

            .message-card {
                padding: 15px;
                font-size: 0.9em;
            }

            .gallery-section h2,
            .gift-game-section h2 { 
                font-size: 1.6em;
            }

            .photo-grid {
                display: block;
            }

            .image-container {
                height: auto;
            }

            .gift-box { 
                width: 120px;
                height: 120px;
                padding: 20px 10px;
                font-size: 0.9em;
            }
            .gift-box i {
                font-size: 1.8em;
                margin-bottom: 8px;
            }
        }
    </style>
</head>
<body>
    <!-- Background Music (Autoplay might be blocked by browsers) -->
    <!-- Place your beautiful song file in the 'music' folder of your GitHub repository -->
    <audio id="backgroundMusic" loop autoplay>
        <source src="music/beautiful_song.mp3" type="audio/mpeg"> 
        Your browser does not support the audio element.
    </audio>

    <header>
        <h1 class="animate-text">Selamat Hari Lahir, Sayangku!</h1>
    </header>

    <main>
        <section class="hero-section">
            <!-- Place your couple image file in the 'images' folder of your GitHub repository -->
            <img id="coupleImage" src="./image/couple.jpg" alt="Gambar Abang dan Sayang" class="couple-image">
            <div class="message-card">
                <p>
                    Wahai bidadari syurgaku, Selamat Ulang Tahun Kelahiran! Setiap tahun bersamamu adalah anugerah terindah yang tidak ternilai. Semoga usia yang bertambah ini membawa lebih banyak kebahagiaan, kesihatan yang berpanjangan, dan sentiasa dalam lindungan rahmat Allah SWT. Abang doakan sayang sentiasa bahagia bersama keluarga kecil kita. Terima kasih atas setiap senyuman, tawa, dan kasih sayang yang tidak pernah putus. Kaulah cahaya dalam hidup abang. I love you, now and always! ❤️
                </p>
                <p>— Daripada Suami Tercintamu</p>
            </div>
        </section>

        <section class="gallery-section">
            <h3>"Memory may fade, but pictures will last forever.."</h3>
            <div class="photo-grid">
                <!-- Place your memory images in the 'images' folder of your GitHub repository -->
                <div class="image-container scroll-animate-image">
                    <img id="memori1" src="./image/memori1.jpg" alt="Memori 1">
                </div>
                <div class="image-container scroll-animate-image">
                    <img id="memori2" src="./image/memori2.jpg" alt="Memori 2">
                </div>
                <div class="image-container scroll-animate-image">
                    <img id="memori3" src="./image/memori3.jpg" alt="Memori 3">
                </div>
                <div class="image-container scroll-animate-image">
                    <img id="memori4" src="./image/memori4.jpg" alt="Memori 4">
                </div>
                <div class="image-container scroll-animate-image">
                    <img id="memori5" src="./image/memori5.jpg" alt="Memori 5">
                </div>
                <div class="image-container scroll-animate-image">
                    <img id="memori6" src="./image/memori6.jpg" alt="Memori 6">
                </div>
            </div>
        </section>

        <section class="gift-game-section">
            <h2>Nak Hadiah? Pilih salah satu hadiah di bawah:</h2>
            <p class="gift-game-notes">Hanya 1 kali percubaan sahaja. Hadiah adalah muktamad dan tidak boleh ditukar. Sila buat pilihan yang tepat!</p>
            <div class="gift-boxes-container">
                <div class="gift-box" id="giftBox1">
                    <i class="fas fa-gift"></i>
                    Pilihan 1
                </div>
                <div class="gift-box" id="giftBox2">
                    <i class="fas fa-box-open"></i>
                    Pilihan 2
                </div>
                <div class="gift-box" id="giftBox3">
                    <i class="fas fa-gem"></i>
                    Pilihan 3
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>Fendy <svg class="love-symbol" viewBox="0 0 24 24"><path d="M12 21.35l-1.84-1.83c-5.46-4.86-9.16-8.13-9.16-12.17 0-3.1 2.4-5.5 5.5-5.5 2.12 0 3.93 1.25 4.84 3.03.91-1.78 2.72-3.03 4.84-3.03 3.1 0 5.5 2.4 5.5 5.5 0 4.04-3.7 7.31-9.16 12.17L12 21.35z"/></svg> Shikin © 2025 and counting..</p>
    </footer>

    <script>
        // No Firebase SDKs needed here, as images/audio are loaded directly from GitHub Pages.
        // The Firebase code was removed because it was previously loading from Firebase Storage.

        window.addEventListener('load', () => {
            const music = document.getElementById('backgroundMusic');
            music.play().catch(error => {
                console.log("Autoplay blocked. User interaction required to play music."); 
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            const imageContainers = document.querySelectorAll('.image-container.scroll-animate-image');

            const observerOptions = {
                root: null, 
                rootMargin: '0px',
                threshold: 0.1 
            };

            const observerCallback = (entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            };

            const observer = new IntersectionObserver(observerCallback, observerOptions);

            imageContainers.forEach(container => {
                observer.observe(container);
            });

            const giftBoxes = document.querySelectorAll('.gift-box');
            let hasGiftBeenClaimed = false; 

            giftBoxes.forEach(box => {
                box.addEventListener('click', () => {
                    if (hasGiftBeenClaimed) {
                        showMessageBox('Hadiah sudah ditebus. Hanya 1 kali percubaan dibenarkan.', 'error');
                        return;
                    }

                    hasGiftBeenClaimed = true; 

                    giftBoxes.forEach(b => b.classList.add('claimed'));

                    showMessageBox('GoldBar 0.1g (Emas 999.9)', 'success', true); 
                });
            });

            globalMessageBoxOverlay = document.getElementById('messageBoxOverlay');
            globalMessageBoxTitle = document.getElementById('messageBoxTitle');
            globalMessageBoxContent = document.getElementById('messageBoxContent');
            globalMessageBoxCloseBtn = document.getElementById('messageBoxCloseBtn');
            globalMessageBoxInnerBox = globalMessageBoxOverlay.querySelector('.message-box');

            if (globalMessageBoxCloseBtn) {
                globalMessageBoxCloseBtn.addEventListener('click', () => {
                    globalMessageBoxOverlay.classList.remove('show');
                    setTimeout(() => {
                        globalMessageBoxOverlay.style.display = 'none';
                    }, 300);
                });
            }

            if (globalMessageBoxOverlay) {
                globalMessageBoxOverlay.addEventListener('click', (e) => {
                    if (e.target === globalMessageBoxOverlay) { 
                        globalMessageBoxOverlay.classList.remove('show');
                        setTimeout(() => {
                            globalMessageBoxOverlay.style.display = 'none';
                        }, 300);
                    }
                });
            }
        });

        let globalMessageBoxOverlay;
        let globalMessageBoxTitle;
        let globalMessageBoxContent;
        let globalMessageBoxCloseBtn;
        let globalMessageBoxInnerBox;


        function showMessageBox(message, type, isPrizeMessage = false) {
            if (!globalMessageBoxOverlay || !globalMessageBoxTitle || !globalMessageBoxContent || !globalMessageBoxInnerBox) {
                console.error("Message box elements not found. DOM might not be ready or IDs are incorrect.");
                return;
            }

            globalMessageBoxOverlay.style.display = 'flex'; 
            void globalMessageBoxOverlay.offsetWidth; 
            
            globalMessageBoxInnerBox.classList.remove('error', 'success'); 

            globalMessageBoxTitle.innerHTML = '';
            globalMessageBoxContent.innerHTML = '';


            if (type === 'success') {
                globalMessageBoxTitle.textContent = 'Tahniah!';
                if (isPrizeMessage) {
                    globalMessageBoxContent.innerHTML = `
                        <span class="prize-title">Hadiah Birthday Syg:</span>
                        <p class="prize-value">${message}</p>
                        <p class="prize-note">*Hadiah akan dihantar selepas ini.</p>
                    `;
                } else {
                    globalMessageBoxContent.textContent = message;
                }
                globalMessageBoxInnerBox.classList.add('success');
            } else if (type === 'error') {
                globalMessageBoxTitle.textContent = 'Ralat!'; 
                globalMessageBoxContent.textContent = message;
                globalMessageBoxInnerBox.classList.add('error');
            }
            
            globalMessageBoxOverlay.classList.add('show');
        }
    </script>
    <div id="messageBoxOverlay" class="message-box-overlay">
        <div class="message-box">
            <h3 id="messageBoxTitle"></h3>
            <p id="messageBoxContent"></p>
            <button id="messageBoxCloseBtn">OK</button>
        </div>
    </div>
</body>
</html>
